const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}};x();function w(){document.querySelector(".container-head-title").setAttribute("style","display: none")}function O(){const t=document.querySelector(".descOne"),e=document.createElement("input");e.setAttribute("id","editCharaOne"),e.setAttribute("value","Edit"),e.setAttribute("type","button"),t.querySelector("#buttonContainer").appendChild(e);const o=document.createElement("input");o.setAttribute("id","deleteCharaOne"),o.setAttribute("value","Delete"),o.setAttribute("type","button"),t.querySelector("#buttonContainer").appendChild(o);const n=document.createElement("input");n.setAttribute("class","vidageOne"),n.setAttribute("type","button"),n.setAttribute("value","X"),t.querySelector("#buttonContainer").appendChild(n)}function T(){const t=document.querySelector(".descTwo"),e=document.createElement("input");e.setAttribute("id","editCharaTwo"),e.setAttribute("value","Edit"),e.setAttribute("type","button"),t.querySelector("#buttonContainer").appendChild(e);const o=document.createElement("input");o.setAttribute("id","deleteCharaTwo"),o.setAttribute("value","Delete"),o.setAttribute("type","button"),t.querySelector("#buttonContainer").appendChild(o);const n=document.createElement("input");n.setAttribute("class","vidageTwo"),n.setAttribute("type","button"),n.setAttribute("value","X"),t.querySelector("#buttonContainer").appendChild(n)}function q(){let t=document.querySelector(".buttonDescOne"),o=document.querySelector(".descOne").querySelector(".description");t.addEventListener("click",function(){t.value=="=>"?(o.setAttribute("style","display: initial;"),t.setAttribute("value","<=")):(o.setAttribute("style","display: none;"),t.setAttribute("value","=>"))})}function A(){let t=document.querySelector(".buttonDescTwo"),o=document.querySelector(".descTwo").querySelector(".description");t.addEventListener("click",function(){t.value=="=>"?(o.setAttribute("style","display: initial;"),t.setAttribute("value","<=")):(o.setAttribute("style","display: none;"),t.setAttribute("value","=>"))})}function v(){let t=document.querySelector(".descOne"),e=document.querySelector(".descTwo");document.querySelector(".vidageOne").addEventListener("click",function(){t.innerHTML="",document.querySelector(".versus").setAttribute("style","display: none;"),t.setAttribute("style","background-color: none;"),t.innerHTML==""&&e.innerHTML==""&&document.querySelector(".container-head-title").setAttribute("style","display: initial")})}function I(){let t=document.querySelector(".descTwo"),e=document.querySelector(".descOne");document.querySelector(".vidageTwo").addEventListener("click",function(){t.innerHTML="",document.querySelector(".versus").setAttribute("style","display: none;"),t.setAttribute("style","background-color: none;"),e.innerHTML==""&&t.innerHTML==""&&document.querySelector(".container-head-title").setAttribute("style","display: initial")})}function S(t){fetch("https://character-database.becode.xyz/characters").then(o=>{if(!o.ok)throw new Error(o.statusText);return o.json()}).then(o=>{console.log(o),document.querySelector(".charSubmitEdit").addEventListener("click",function(){let n=`https://character-database.becode.xyz/characters/${t}`;if(confirm("Are you sur you want to edit this masterpiece ?")){let r=document.querySelector(".charName").value,a=document.querySelector(".charTitle").value,d=document.querySelector(".charDesc").value,b=document.querySelector("#output").src.replace("data:image/png;base64,","").replace("data:image/jpeg;base64,",""),h={description:d,image:b,name:r,shortDescription:a};axios({method:"put",url:n,data:h}).then(function(l){console.log(l),location.reload()}).catch(function(l){console.log(l)})}})}).catch(o=>{console.log("Noob !",o)})}const E=()=>{const t=document.getElementById("output");window.FileList&&window.File&&window.FileReader&&document.getElementById("charImg").addEventListener("change",e=>{t.src="";const o=e.target.files[0];if(!o.type||!o.type.match("image.*"))return;const n=new FileReader;n.addEventListener("load",i=>{t.src=i.target.result}),n.readAsDataURL(o)})};function D(){let t="https://character-database.becode.xyz/characters",e=document.querySelector(".charName").value,o=document.querySelector(".charTitle").value,n=document.querySelector(".charDesc").value,r=document.querySelector("#output").src.replace("data:image/png;base64,","").replace("data:image/jpeg;base64,","");console.log(e),console.log(o),console.log(r);let a={description:n,image:r,name:e,shortDescription:o};axios({method:"post",url:t,data:a}).then(function(d){console.log(d),location.reload()}).catch(function(d){console.log(d)})}function p(){const t=document.createElement("input");t.setAttribute("class","deleteForm"),t.setAttribute("type","button"),t.setAttribute("value","X");const e=document.createElement("form");e.setAttribute("class","form"),document.querySelector(".form-container").appendChild(e);const o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("placeholder","Name"),o.setAttribute("class","charName");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("placeholder","Short Description"),n.setAttribute("class","charTitle");const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("placeholder","Description"),i.setAttribute("class","charDesc");const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept","image/png, image/jpeg"),r.setAttribute("placeholder","Image"),r.setAttribute("id","charImg");const a=document.createElement("input");a.setAttribute("type","button"),a.setAttribute("class","charSubmit"),a.setAttribute("value","Submit");const d=document.createElement("input");d.setAttribute("type","button"),d.setAttribute("class","charSubmitEdit"),d.setAttribute("style","display: none;");const y=document.createElement("div"),b=document.createElement("img");b.setAttribute("id","output"),e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.appendChild(a),e.appendChild(d),e.appendChild(y),y.appendChild(b),E();const h=document.querySelector(".charSubmit"),l=document.querySelector(".deleteForm"),g=document.querySelector(".form");let _=document.querySelector(".descOne"),s=document.querySelector(".descTwo");h.addEventListener("click",D),l.addEventListener("click",function(){g.remove(),_.innerHTML==""&&s.innerHTML==""&&document.querySelector(".container-head-title").setAttribute("style","display: initial")})}const k=()=>{axios.get("https://character-database.becode.xyz/characters").then(t=>{if(typeof t=="undefined"){let e="<h2 class='error'>personnage inexistant</h2>";document.querySelector(".body__container-foot").innerHTML=e}else for(let e=0;e<t.data.length;e++){const o=document.createElement("img");o.setAttribute("class",`imageCharacter img${e}`),o.setAttribute("id",`image[${e}]`),o.setAttribute("src",`data:image/png;base64,${t.data[e].image}`),document.querySelector(".body__container-foot").appendChild(o);const n=()=>{const r=document.createElement("h2"),a=document.createElement("h4"),d=document.createElement("input"),y=document.createElement("div"),b=document.createElement("div"),h=document.createElement("div"),l=document.createElement("div"),g=t.data[e].id;r.innerText=t.data[e].name,a.innerText=t.data[e].shortDescription,h.innerHTML+=`<img src="data:image/png;base64,${t.data[e].image}">`,l.innerHTML=t.data[e].description,d.setAttribute("type","button"),d.setAttribute("class","buttonDescOne"),d.setAttribute("value","=>"),l.setAttribute("style","display: none;"),l.setAttribute("class","description");const _=document.createElement("input");if(_.setAttribute("type","button"),_.setAttribute("class","buttonDescTwo"),_.setAttribute("value","=>"),y.setAttribute("id","buttonContainer"),b.setAttribute("id","nameContainer"),h.setAttribute("id","descImgContainer"),document.querySelector(".descOne").childNodes.length!==0){const s=document.querySelector(".descTwo");w(),s.setAttribute("style","background-color: rgb(0, 0, 0, 0.5);"),document.querySelector(".descTwo").appendChild(y),T(),document.querySelector(".descTwo").appendChild(b),s.querySelector("#nameContainer").appendChild(r),s.querySelector("#nameContainer").appendChild(a),document.querySelector(".descTwo").appendChild(h),s.querySelector("#descImgContainer").appendChild(_),s.querySelector("#descImgContainer").appendChild(l),document.querySelector(".versus").setAttribute("style","display: flex;"),A(),document.querySelector("#deleteCharaTwo").addEventListener("click",function(){let u=`https://character-database.becode.xyz/characters/${g}`;confirm("Are you sur you want to delete this masterpiece ?")&&axios({method:"delete",url:u,data:t.data[e]}).then(function(c){console.log(c),location.reload()}).catch(function(c){console.log(c)})}),v(),document.querySelector("#editCharaTwo").addEventListener("click",function(){if(document.querySelector(".form")){document.querySelector(".form").remove(),p(),document.querySelector(".charSubmit").setAttribute("style","display: none;"),document.querySelector(".charSubmitEdit").setAttribute("style","display: initial;");let u=document.querySelector(".charName"),m=document.querySelector(".charTitle"),c=document.querySelector(".charDesc"),f=document.querySelector("#output").src;u.value=t.data[e].name,m.value=t.data[e].shortDescription,c.value=t.data[e].description,f.file=t.data[e].image}else{p(),document.querySelector(".charSubmit").setAttribute("style","display: none;"),document.querySelector(".charSubmitEdit").setAttribute("style","display: initial;");let u=document.querySelector(".charName"),m=document.querySelector(".charTitle"),c=document.querySelector(".charDesc"),f=document.querySelector("#output"),C=t.data[e].id;u.value=t.data[e].name,m.value=t.data[e].shortDescription,c.value=t.data[e].description,f.src=`data:image/png;base64,${t.data[e].image}`,S(C)}}),I()}else{const s=document.querySelector(".descOne");w(),s.setAttribute("style","background-color: rgb(0, 0, 0, 0.5);"),document.querySelector(".descOne").appendChild(y),O(),document.querySelector(".descOne").appendChild(b),document.querySelector("#nameContainer").appendChild(r),document.querySelector("#nameContainer").appendChild(a),document.querySelector(".descOne").appendChild(h),s.querySelector("#descImgContainer").appendChild(d),s.querySelector("#descImgContainer").appendChild(l),q(),document.querySelector("#deleteCharaOne").addEventListener("click",function(){let u=`https://character-database.becode.xyz/characters/${g}`;confirm("Are you sur you want to delete this masterpiece ?")&&axios({method:"delete",url:u,data:t.data[e]}).then(function(c){console.log(c),location.reload()}).catch(function(c){console.log(c)})}),document.querySelector("#editCharaOne").addEventListener("click",function(){if(document.querySelector(".form")){document.querySelector(".form").remove(),p(),document.querySelector(".charSubmit").setAttribute("style","display: none;"),document.querySelector(".charSubmitEdit").setAttribute("style","display: initial;");let u=document.querySelector(".charName"),m=document.querySelector(".charTitle"),c=document.querySelector(".charDesc"),f=document.querySelector("#output").src;u.value=t.data[e].name,m.value=t.data[e].shortDescription,c.value=t.data[e].description,f.file=t.data[e].image}else{p(),document.querySelector(".charSubmit").setAttribute("style","display: none;"),document.querySelector(".charSubmitEdit").setAttribute("style","display: initial;");let u=document.querySelector(".charName"),m=document.querySelector(".charTitle"),c=document.querySelector(".charDesc"),f=document.querySelector("#output"),C=t.data[e].id;u.value=t.data[e].name,m.value=t.data[e].shortDescription,c.value=t.data[e].description,f.src=`data:image/png;base64,${t.data[e].image}`,S(C)}}),v()}};document.querySelector(`.img${e}`).addEventListener("click",function(){document.querySelector(".descTwo").childNodes.length!==0&&document.querySelector(".descOne").childNodes.length!==0?console.log("pas de place"):(document.querySelector(".descTwo").childNodes.length!==0&&document.querySelector(".descOne").childNodes.length==0&&document.querySelector(".versus").setAttribute("style","display: flex;"),n())})}})};function L(){const t=["./assets/arene1.jpg","./assets/images/arene2.jpg","./assets/images/arene3.jpg","./assets/images/arene4.jpg","./assets/images/arene5.png","./assets/images/blackops.png","./assets/images/csgo.png","./assets/images/fantasy.jpg","./assets/images/halo.png","./assets/images/lol.png","./assets/images/minecraft.png","./assets/images/smash.png","./assets/images/smite.jpg","./assets/images/tft.png","./assets/images/eldenRing.jpg","./assets/images/witcher3.jpg"];let e=t[Math.floor(Math.random()*t.length)];document.querySelector("body").setAttribute("style",`background-image: url("${e}");`),k()}function j(){document.querySelector("#createdCharacter").addEventListener("click",function(){w(),document.querySelector(".form")&&document.querySelector(".form").remove(),p()})}L();j();
